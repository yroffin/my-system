<p-contextMenu #cm [target]="area" [model]="items"></p-contextMenu>
<p-toast></p-toast>

<div #area>
    <div class="flex">
        <div [style]="{'height': '2048px'}" class="w-10">
            <div #myCytoscape id="cytoscape" class="cytoscape-container"></div>
        </div>
        <div class="w-2">
            <p-tabView>
                <p-tabPanel header="Drop">
                    <p-card dropZoneDirective (fileDropped)="onFileGexfDropped($event)">
                        <i class="pi pi-upload"></i>Simply upload new GEXF file here
                    </p-card>
                    <br>
                    <p-card dropZoneDirective (fileDropped)="onFileStyleDropped($event)">
                        <i class="pi pi-upload"></i> Simply upload new style file here
                    </p-card>
                </p-tabPanel>
                <p-tabPanel header="Find">
                    <p-tree #myTree [value]="graphs" selectionMode="single" [(selection)]="selectedNode"
                        (onNodeSelect)="nodeSelect($event)" [filter]="true" filterMode="strict"></p-tree>
                </p-tabPanel>
                <p-tabPanel header="Node/Edge">
                    <p-inputSwitch [(ngModel)]="_lockedElement" (onChange)="handleChangeLock($event)"
                        *ngIf="_selectElement"></p-inputSwitch>
                    <pre>{{_selectElement | json}}</pre>
                </p-tabPanel>
                <p-tabPanel header="Documentation">
                    <div [innerHTML]="_selectElementCdata"></div>
                </p-tabPanel>
            </p-tabView>
        </div>
    </div>
</div>

<p-dialog [modal]="true" header="Png" [(visible)]="displayExportPng">
    <img #myPng src=""><img>
</p-dialog>

<p-dialog [modal]="true" header="Add new node" [(visible)]="displayAddNewNode" [style]="{width:'70em'}">
    <h5>Tag</h5>
    <p-dropdown [options]="captureData.tags" [(ngModel)]="captureData.tag" defaultLabel="Select a tag"
        optionLabel="name"></p-dropdown>
    <h5>Id</h5>
    <span class="p-float-label">
        <input id="float-input" [(ngModel)]="captureData.id" type="text" pInputText>
        <label for="float-input">Id</label>
    </span>
    <h5>Label</h5>
    <span class="p-float-label">
        <input id="float-input" [(ngModel)]="captureData.label" type="text" pInputText>
        <label for="float-input">Label</label>
    </span>
    <ng-template pTemplate="footer">
        <p-button (click)="displayAddNewNode=false" label="Cancel" styleClass="p-button-text"></p-button>
        <p-button (click)="createNewNode()" label="Create" styleClass="p-button-text"></p-button>
    </ng-template>
</p-dialog>

<p-dialog [modal]="true" header="add new node" [(visible)]="displayAddNewEdge" [style]="{width:'70em'}">
    <h5>Tag</h5>
    <p-dropdown [options]="captureData.tags" [(ngModel)]="captureData.tag" defaultLabel="Select a tag"
        optionLabel="name"></p-dropdown>
    <h5>Source</h5>
    <p-dropdown [options]="captureData.sources" filterBy="name" [(ngModel)]="captureData.source"
        defaultLabel="Select a source" optionLabel="name"></p-dropdown>
    <h5>Target</h5>
    <p-dropdown [options]="captureData.targets" filterBy="name" [(ngModel)]="captureData.target"
        defaultLabel="Select a target" optionLabel="name"></p-dropdown>
    <h5>Label</h5>
    <span class="p-float-label">
        <input id="float-input" [(ngModel)]="captureData.label" type="text" pInputText>
        <label for="float-input">Label</label>
    </span>
    <ng-template pTemplate="footer">
        <p-button (click)="displayAddNewEdge=false" label="Cancel" styleClass="p-button-text"></p-button>
        <p-button (click)="createNewEdge()" label="Create" styleClass="p-button-text"></p-button>
    </ng-template>
</p-dialog>