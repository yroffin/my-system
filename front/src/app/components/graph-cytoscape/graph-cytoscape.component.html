<p-contextMenu #cm [target]="area" [model]="items"></p-contextMenu>
<p-toast></p-toast>

<div class="dock-window">
    <p-dock [model]="dockBasicItems" position="bottom">
        <ng-template pTemplate="item" let-item>
            <img [src]="item.icon" [alt]="item.label" width="100%">
        </ng-template>
    </p-dock>
</div>

<div #area>
    <div class="flex">
        <div [style]="{'height': '2048px'}" class="w-12" dropZoneDirective (fileDropped)="onFileGexfDropped($event)">
            <div #myCytoscape id="cytoscape" class="cytoscape-container"></div>
        </div>
    </div>
</div>

<p-dialog header="Find any element" [(visible)]="displayFinder" [maximizable]="true" [breakpoints]="{'960px': '50vw'}"
    [style]="{width: '60vw'}" [draggable]="true" [resizable]="false">
    <p-tree #myTree [value]="graphs" selectionMode="single" [(selection)]="selectedNode"
        (onNodeSelect)="nodeSelect($event)" [filter]="true" filterMode="strict"></p-tree>
</p-dialog>

<p-dialog header="Current selection" [(visible)]="displaySelection" [maximizable]="true"
    [breakpoints]="{'960px': '50vw'}" [style]="{width: '30vw'}" [draggable]="false" [resizable]="false">
    <p-inputSwitch [(ngModel)]="_lockedElement" (onChange)="handleChangeLock($event)" *ngIf="_selectElement">
    </p-inputSwitch>
    <pre>{{_selectElement | json}}</pre>
</p-dialog>

<p-dialog header="Documentation" [(visible)]="displayMarkdown" [maximizable]="true" [breakpoints]="{'960px': '50vw'}"
    [style]="{width: '30vw'}" [draggable]="false" [resizable]="false">
    <div [innerHTML]="_selectElementCdata"></div>
</p-dialog>

<p-dialog header="Drag and drop file to update style" [(visible)]="displayStyle" [maximizable]="true"
    [breakpoints]="{'960px': '50vw'}" [style]="{width: '60vw'}" [draggable]="false" [resizable]="false">
    <pre dropZoneDirective (fileDropped)="onFileStyleDropped($event)">{{tags}}</pre>
</p-dialog>

<p-dialog header="Png file to export" [modal]="true" header="Png" [(visible)]="displayExportPng">
    <img #myPng src=""><img>
</p-dialog>

<p-dialog [modal]="true" header="Add new node" [(visible)]="displayAddNewNode" [style]="{width:'70em'}">
    <h5>Tag</h5>
    <p-dropdown [options]="captureData.tags" [(ngModel)]="captureData.tag" defaultLabel="Select a tag"
        optionLabel="name"></p-dropdown>
    <h5>Id</h5>
    <span class="p-float-label">
        <input id="float-input" [(ngModel)]="captureData.id" type="text" pInputText>
        <label for="float-input">Id</label>
    </span>
    <h5>Label</h5>
    <span class="p-float-label">
        <input id="float-input" [(ngModel)]="captureData.label" type="text" pInputText>
        <label for="float-input">Label</label>
    </span>
    <ng-template pTemplate="footer">
        <p-button (click)="displayAddNewNode=false" label="Cancel" styleClass="p-button-text"></p-button>
        <p-button (click)="createNewNode()" label="Create" styleClass="p-button-text"></p-button>
    </ng-template>
</p-dialog>

<p-dialog [modal]="true" header="add new node" [(visible)]="displayAddNewEdge" [style]="{width:'70em'}">
    <h5>Tag</h5>
    <p-dropdown [options]="captureData.tags" [(ngModel)]="captureData.tag" defaultLabel="Select a tag"
        optionLabel="name"></p-dropdown>
    <h5>Source</h5>
    <p-dropdown [options]="captureData.sources" filterBy="name" [(ngModel)]="captureData.source"
        defaultLabel="Select a source" optionLabel="name"></p-dropdown>
    <h5>Target</h5>
    <p-dropdown [options]="captureData.targets" filterBy="name" [(ngModel)]="captureData.target"
        defaultLabel="Select a target" optionLabel="name"></p-dropdown>
    <h5>Label</h5>
    <span class="p-float-label">
        <input id="float-input" [(ngModel)]="captureData.label" type="text" pInputText>
        <label for="float-input">Label</label>
    </span>
    <ng-template pTemplate="footer">
        <p-button (click)="displayAddNewEdge=false" label="Cancel" styleClass="p-button-text"></p-button>
        <p-button (click)="createNewEdge()" label="Create" styleClass="p-button-text"></p-button>
    </ng-template>
</p-dialog>